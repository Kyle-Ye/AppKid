{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "clearShell",
            "type": "shell",
            "command": "clear",
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
        },
        {
            "label": "generateVolcanoCEnums",
            "type": "shell",
            "linux": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/CVulkan/VulkanEnums.h --c-enums"
            },
            "osx": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/CVulkan/VulkanEnums.h --c-enums"
            },
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "generateVolcanoCOptionSets",
            "type": "shell",
            "linux": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/CVulkan/VulkanOptionSets.h --c-option-sets"
            },
            "osx": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/CVulkan/VulkanOptionSets.h --c-option-sets"
            },
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "generateVolcanoSwiftStructures",
            "type": "shell",
            "linux": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/Volcano/Utilities/VulkanStructureChainParsing/VulkanStructureConformance.swift --swift-structs && swiftformat ./Volcano/Sources/Volcano/Utilities/VulkanStructureChainParsing/VulkanStructureConformance.swift"
            },
            "osx": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/Volcano/Utilities/VulkanStructureChainParsing/VulkanStructureConformance.swift --swift-structs && swiftformat ./Volcano/Sources/Volcano/Utilities/VulkanStructureChainParsing/VulkanStructureConformance.swift"
            },
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "generateVolcanoSwiftEnums",
            "type": "shell",
            "linux": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/Volcano/Enums/VulkanEnums.swift --swift-enums && swiftformat ./Volcano/Sources/Volcano/Enums/VulkanEnums.swift"
            },
            "osx": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/Volcano/Enums/VulkanEnums.swift --swift-enums && swiftformat ./Volcano/Sources/Volcano/Enums/VulkanEnums.swift"
            },
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "generateVolcanoSwiftOptionSets",
            "type": "shell",
            "linux": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/Volcano/OptionSets/VulkanOptionSets.swift --swift-option-sets && swiftformat ./Volcano/Sources/Volcano/OptionSets/VulkanOptionSets.swift"
            },
            "osx": {
                "command": "swift run --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin vkthings /usr/share/vulkan/registry/vk.xml -o ./Volcano/Sources/Volcano/OptionSets/VulkanOptionSets.swift --swift-option-sets && swiftformat ./Volcano/Sources/Volcano/OptionSets/VulkanOptionSets.swift"
            },
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "buildProject",
            "type": "shell",
            "linux": {
                "command": "swift build --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux"
            },
            "osx": {
                "command": "swift build --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin"
            },
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "clean",
            "type": "shell",
            "command": "./clean.sh",
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
        },
        {
            "label": "build_tests",
            "type": "shell",
            "linux": {
                "command": "swift build --build-tests --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux"
            },
            "osx": {
                "command": "swift build --build-tests --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin"
            },
            "group": "test",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "buildShaders",
            "type": "shell",
            "linux": {
                "command": "./buildShaders.sh"
            },
            "osx": {
                "command": "echo NO_OP"
            },
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
        },
        {
            "label": "buildProject_arm64",
            "type": "shell",
            "linux": {
                "command": "swift build --verbose --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux --destination ${env:HOME}/Documents/SwiftCrossCompilers/InstallPackagers/SwiftCrossCompiler/Developer/Destinations/arm64-5.3.3-RELEASE.json"
            },
            "osx": {
                "command": "echo NO_OP"
            },
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": false
            },
            "options": {
                "env": {
                    "APPKID_LOCAL_BUILD": "1",
                }
            }
        },
        {
            "label": "upload_jetson",
            "type": "shell",
            "command": "cd ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-arm64/debug; rsync -r -l --progress SwiftyFan *.so *.resources 192.168.55.1:~/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux/debug",
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
        },
        {
            "label": "build",
            "dependsOn": [
                "clearShell",
                // "buildShaders",
                "buildProject"
            ],
            "dependsOrder": "sequence",
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "build_arm64",
            "dependsOn": [
                "clearShell",
                // "buildShaders",
                "buildProject_arm64",
                "upload_jetson"
            ],
            "dependsOrder": "sequence",
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": []
        },
        {
            "label": "vkthings",
            "dependsOn": [
                "clearShell",
                "generateVolcanoCEnums",
                "generateVolcanoCOptionSets",
                "generateVolcanoSwiftStructures",
                "generateVolcanoSwiftEnums",
                "generateVolcanoSwiftOptionSets",
            ],
            "dependsOrder": "sequence",
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": []
        }
    ]
}