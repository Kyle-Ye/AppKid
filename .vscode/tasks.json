{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "buildProject",
            "type": "shell",
            "linux": {
                "command": "clear; swift build --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux"
            },
            "osx": {
                "command": "clear; swift build --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-Darwin"
            },
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
        },
        {
            "label": "clean",
            "type": "shell",
            "command": "clear; ./clean.sh",
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "never",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true,
            },
        },
        {
            "label": "build_tests",
            "type": "shell",
            "linux": {
                "command": "clear; swift build --build-tests --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFanTests-Linux"
            },
            "osx": {
                "command": "clear; swift build --build-tests --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFanTests-Darwin"
            },
            "group": "test",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
        },
        {
            "label": "buildShaders",
            "type": "shell",
            "linux": {
                "command": "glslc ./AppKid/Sources/AppKid/Resources/BackgroundDrawFragmentShader.volcano -o ./AppKid/Sources/AppKid/Resources/BackgroundDrawFragmentShader.spv && glslc ./AppKid/Sources/AppKid/Resources/BackgroundDrawVertexShader.volcano -o ./AppKid/Sources/AppKid/Resources/BackgroundDrawVertexShader.spv"
            },
            "osx": {
                "command": "echo NO_OP"
            },
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
        },
        {
            "label": "buildProject_arm64",
            "type": "shell",
            "linux": {
                "command": "swift build --verbose --build-path ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-arm64 --destination ${env:HOME}/Documents/SwiftCrossCompilers/InstallPackagers/SwiftCrossCompiler/Developer/Destinations/arm64-5.3.3-RELEASE.json"
            },
            "osx": {
                "command": "echo NO_OP"
            },
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
        },
        {
            "label": "upload_jetson",
            "type": "shell",
            "command": "cd ${env:HOME}/Library/Developer/Xcode/DerivedData/SwiftyFan-arm64/debug; rsync -r -l --progress SwiftyFan *.so *.resources 192.168.55.1:~/Library/Developer/Xcode/DerivedData/SwiftyFan-Linux/debug",
            "group": "none",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
        },
        {
            "label": "build",
            "dependsOn": [
                "buildShaders",
                "buildProject"
            ],
            "dependsOrder": "sequence",
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "build_arm64",
            "dependsOn": [
                "buildShaders",
                "buildProject_arm64",
                "upload_jetson"
            ],
            "dependsOrder": "sequence",
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": []
        }
    ]
}